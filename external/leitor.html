<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Leitor de C贸digo de Barras</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
    <style>
        #camera { width: 100%; max-width: 400px; margin: auto; }
        #output { margin-top: 20px; font-size: 20px; text-align: center; }
    </style>
</head>
<body>

<h2 style="text-align:center;">Leitor de C贸digo de Barras via Webcam</h2>
<div id="camera"></div>
<div id="output">Aguardando leitura...</div>

<script>
    Quagga.init({
        inputStream: {
            name: "Live",
            type: "LiveStream",
            target: document.querySelector('#camera'),
            constraints: {
                width: 400,
                height: 300,
                facingMode: "environment" // traseira no mobile
            }
        },
        decoder: {
            readers: ["code_128_reader", "ean_reader", "ean_8_reader", "upc_reader"] // suportados
        }
    }, function(err) {
        if (err) {
            console.error(err);
            return;
        }
        Quagga.start();
    });

    Quagga.onDetected(function(result) {
        const code = result.codeResult.code;
        document.getElementById('output').innerText = 'C贸digo detectado: ' + code;

        // Opcional: parar ap贸s leitura
        Quagga.stop();
    });
</script>

</body>
</html>
